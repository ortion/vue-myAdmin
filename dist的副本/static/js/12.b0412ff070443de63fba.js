webpackJsonp([12],{"6A1r":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=t("7Otq"),n=t.n(o),r=t("PmpH"),c=t("CCUp"),l=t("xuzd"),i=t("E4LH"),s={name:"companyAdd",components:{CityCascader:r.a},data:function(){var e=function(e,a,t){a?Object(i.b)(a)?t():t(null):t()};return{logo:n.a,loading:!1,companyForm:{companyname:"",companyType:"",provinceId:"",cityId:"",districtId:"",licence:"",corporation:"",corporationPhone:"",licencePicUrl:"",charge:"",chargePhone:"",chargeSex:"",accountBank:"",accountNo:"",accountName:"",wechatNo:"",alipayNo:""},companyTypeList:[],accountInfo:"first",companyRules:{districtId:[{required:!0,message:"请输入门店地址",trigger:"change"}],companyname:[{required:!0,message:"请输入企业名称",trigger:"blur"}],companyType:[{required:!0,message:"请选择企业类型",trigger:"change"}],corporationPhone:[{validator:e,message:"法人手机号填写格式不正确",trigger:"blur"}],charge:[{required:!0,message:"请输入负责人姓名",trigger:"blur"}],chargeSex:[{required:!0,message:"请选择负责人性别",trigger:"change"}],chargePhone:[{required:!0,message:"请输入负责人电话",trigger:"blur"},{validator:e,message:"负责人手机号填写格式不正确",trigger:"blur"}],account:[{required:!0,message:"银行卡、微信、支付宝信息至少有一个",trigger:"blur"}]}}},created:function(){this.getcompanyType()},methods:{onSave:function(){var e=this;this.$refs.companyForm.validate(function(a){if(!a)return console.log("error submit!!"),!1;e.companyForm.accountNo||e.companyForm.wechatNo||e.companyForm.alipayNo?(e.loading=!0,Object(c.a)(e.companyForm).then(function(a){e.$message({type:"success",message:"保存成功!"}),e.loading=!1,e.$router.push({name:"companyManage"})}).catch(function(){e.loading=!1})):e.$message({message:"银行卡、微信、支付宝信息至少填写一个",type:"error"})})},uploadLicence:function(e){var a=this,t="licence"+e.file.uid;Object(l.a)().put(t,e.file).then(function(e){a.companyForm.licencePicUrl=e.url}).catch(function(e){console.log(e)})},getcompanyType:function(){var e=this;Object(c.f)().then(function(a){a.data?e.companyTypeList=a.data:e.companyTypeList=[]})},selectData:function(e){e.firstValue&&(this.companyForm.provinceId=e.firstValue),e.secondValue&&(this.companyForm.cityId=e.secondValue),e.thirdValue&&(this.companyForm.districtId=e.thirdValue)},clearData:function(e){1===e?(this.companyForm.cityId="",this.companyForm.districtId=""):2===e&&(this.companyForm.districtId="")}}},m={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"third-header"},[t("router-link",{attrs:{to:{name:"companyManage"}}},[t("span",{staticClass:"backPrev"},[t("svg-icon",{attrs:{"icon-class":"back"}})],1)]),e._v(" "),t("span",[e._v("新建企业")])],1),e._v(" "),t("div",{staticClass:"companyForm"},[t("el-form",{ref:"companyForm",attrs:{rules:e.companyRules,model:e.companyForm,"label-width":"120px"}},[t("p",{staticClass:"content-title"},[e._v("企业信息")]),e._v(" "),t("el-form-item",{attrs:{label:"企业名称",prop:"companyname"}},[t("el-input",{attrs:{placeholder:"请输入企业名称"},model:{value:e.companyForm.companyname,callback:function(a){e.$set(e.companyForm,"companyname","string"==typeof a?a.trim():a)},expression:"companyForm.companyname"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"企业类型",prop:"companyType"}},[t("el-select",{attrs:{placeholder:"请选择企业类型"},model:{value:e.companyForm.companyType,callback:function(a){e.$set(e.companyForm,"companyType",a)},expression:"companyForm.companyType"}},e._l(e.companyTypeList,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"所属地区",prop:"districtId"}},[t("city-cascader",{on:{selectData:e.selectData,clearData:e.clearData}})],1),e._v(" "),t("el-form-item",{attrs:{label:"营业执照代码"}},[t("el-input",{attrs:{placeholder:"请输入营业执照代码"},model:{value:e.companyForm.licence,callback:function(a){e.$set(e.companyForm,"licence","string"==typeof a?a.trim():a)},expression:"companyForm.licence"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"企业法人"}},[t("el-input",{attrs:{placeholder:"请输入企业法人"},model:{value:e.companyForm.corporation,callback:function(a){e.$set(e.companyForm,"corporation","string"==typeof a?a.trim():a)},expression:"companyForm.corporation"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"法人联系方式",prop:"corporationPhone"}},[t("el-input",{attrs:{placeholder:"请输入法人联系方式"},model:{value:e.companyForm.corporationPhone,callback:function(a){e.$set(e.companyForm,"corporationPhone","string"==typeof a?a.trim():a)},expression:"companyForm.corporationPhone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"上传营业执照"}},[t("div",{staticClass:"inlint licencePic"},[e.companyForm.licencePicUrl?t("img",{attrs:{src:e.companyForm.licencePicUrl,alt:""}}):t("img",{attrs:{src:e.logo,alt:""}})]),e._v(" "),t("div",{staticClass:"inlint"},[t("el-upload",{attrs:{"http-request":e.uploadLicence,"show-file-list":!1,action:""}},[t("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择")])],1)],1)]),e._v(" "),t("p",{staticClass:"content-title"},[e._v("负责人信息")]),e._v(" "),t("el-form-item",{attrs:{label:"负责人姓名",prop:"charge"}},[t("el-input",{attrs:{placeholder:"请输入负责人姓名"},model:{value:e.companyForm.charge,callback:function(a){e.$set(e.companyForm,"charge","string"==typeof a?a.trim():a)},expression:"companyForm.charge"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"负责人性别",prop:"chargeSex"}},[t("el-radio-group",{model:{value:e.companyForm.chargeSex,callback:function(a){e.$set(e.companyForm,"chargeSex",a)},expression:"companyForm.chargeSex"}},[t("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("女")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"负责人电话",prop:"chargePhone"}},[t("el-input",{attrs:{placeholder:"请输入负责人电话"},model:{value:e.companyForm.chargePhone,callback:function(a){e.$set(e.companyForm,"chargePhone","string"==typeof a?a.trim():a)},expression:"companyForm.chargePhone"}})],1),e._v(" "),t("p",{staticClass:"content-title",attrs:{prop:"account"}},[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("财务信息")]),e._v(" "),t("el-tabs",{staticClass:"accountInfo",attrs:{type:"card"},model:{value:e.accountInfo,callback:function(a){e.accountInfo="string"==typeof a?a.trim():a},expression:"accountInfo"}},[t("el-tab-pane",{attrs:{label:"银行卡",name:"first"}},[t("div",{staticClass:"tabs-content"},[t("el-form-item",{attrs:{label:"开户行"}},[t("el-input",{attrs:{placeholder:"请输入开户行"},model:{value:e.companyForm.accountBank,callback:function(a){e.$set(e.companyForm,"accountBank","string"==typeof a?a.trim():a)},expression:"companyForm.accountBank"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"账号"}},[t("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.companyForm.accountNo,callback:function(a){e.$set(e.companyForm,"accountNo","string"==typeof a?a.trim():a)},expression:"companyForm.accountNo"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"开户名称"}},[t("el-input",{attrs:{placeholder:"请输入开户名称"},model:{value:e.companyForm.accountName,callback:function(a){e.$set(e.companyForm,"accountName","string"==typeof a?a.trim():a)},expression:"companyForm.accountName"}})],1)],1)]),e._v(" "),t("el-tab-pane",{attrs:{label:"微信",name:"second"}},[t("div",{staticClass:"tabs-content"},[t("el-form-item",{attrs:{label:"账号"}},[t("el-input",{attrs:{placeholder:"请输入微信账号"},model:{value:e.companyForm.wechatNo,callback:function(a){e.$set(e.companyForm,"wechatNo","string"==typeof a?a.trim():a)},expression:"companyForm.wechatNo"}})],1)],1)]),e._v(" "),t("el-tab-pane",{attrs:{label:"支付宝",name:"third"}},[t("div",{staticClass:"tabs-content"},[t("el-form-item",{attrs:{label:"账号"}},[t("el-input",{attrs:{placeholder:"请输入支付宝账号"},model:{value:e.companyForm.alipayNo,callback:function(a){e.$set(e.companyForm,"alipayNo","string"==typeof a?a.trim():a)},expression:"companyForm.alipayNo"}})],1)],1)])],1),e._v(" "),t("el-form-item",[t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保存")])],1)],1)],1)])},staticRenderFns:[]};var p=t("VU/8")(s,m,!1,function(e){t("lSTJ")},"data-v-70bb53ad",null);a.default=p.exports},UFLz:function(e,a,t){(e.exports=t("FZ+f")(!1)).push([e.i,"\n.companyForm .el-input[data-v-70bb53ad] {\n  width: 550px;\n}\n.content-title[data-v-70bb53ad] {\n  background: rgba(73, 98, 211, 0.1);\n  border-radius: 2px;\n  padding: 16px;\n  padding: 0.7rem 1rem;\n  word-spacing: 0.05rem;\n  color: #657de7;\n  font-weight: 600;\n}\n.licencePic[data-v-70bb53ad] {\n  width: 150px;\n  height: 150px;\n  vertical-align: bottom;\n}\n.accountInfo[data-v-70bb53ad] {\n  margin-bottom: 20px;\n}\n.tabs-content[data-v-70bb53ad] {\n  border: 1px solid #dcdfe6;\n  border-top: none;\n  height: 220px;\n  padding-top: 20px;\n}\n",""])},lSTJ:function(e,a,t){var o=t("UFLz");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t("rjj0")("55f6f172",o,!0)}});