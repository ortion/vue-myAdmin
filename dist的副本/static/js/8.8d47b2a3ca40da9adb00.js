webpackJsonp([8],{"BP/o":function(t,e,i){var n=i("WweX");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("50a2b29c",n,!0)},WweX:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"",""])},Z98X:function(t,e,i){"use strict";e.g=function(){return Object(n.a)({url:"app/hotcity/load",method:"POST",data:{token:Object(a.a)()}})},e.a=function(t){return Object(n.a)({url:"app/hotcity/add",method:"POST",data:{token:Object(a.a)(),cityName:t}})},e.c=function(t){return Object(n.a)({url:"app/hotcity/delete",method:"POST",data:{token:Object(a.a)(),cityId:t}})},e.k=function(t){return Object(n.a)({url:"app/hotcity/update",method:"POST",data:{token:Object(a.a)(),cityId:t.id,cityName:t.name}})},e.i=function(t){return Object(n.a)({url:"app/hotcity/mvup",method:"POST",data:{token:Object(a.a)(),cityId:t}})},e.e=function(t){return Object(n.a)({url:"app/hotcity/mvdown",method:"POST",data:{token:Object(a.a)(),cityId:t}})},e.h=function(){return Object(n.a)({url:"app/hotword/load",method:"POST",data:{token:Object(a.a)()}})},e.b=function(t){return Object(n.a)({url:"app/hotword/add",method:"POST",data:{token:Object(a.a)(),wordText:t}})},e.d=function(t){return Object(n.a)({url:"app/hotword/delete",method:"POST",data:{token:Object(a.a)(),wordId:t}})},e.l=function(t){return Object(n.a)({url:"app/hotword/update",method:"POST",data:{token:Object(a.a)(),wordId:t.id,wordText:t.name}})},e.j=function(t){return Object(n.a)({url:"app/hotword/mvup",method:"POST",data:{token:Object(a.a)(),wordId:t}})},e.f=function(t){return Object(n.a)({url:"app/hotword/mvdown",method:"POST",data:{token:Object(a.a)(),wordId:t}})};var n=i("vLgD"),a=i("TIfe")},rIH2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Z98X"),a={name:"hotAddress",data:function(){return{list:null,listLoading:!0,loading:!1,isShowDialog:!1,cityForm:{name:"",id:""}}},created:function(){this.getHotCityList()},methods:{cancelEdit:function(t){t.cityName=t.originalTitle,t.edit=!1,this.cityForm={name:""}},getHotCityList:function(){var t=this;this.listLoading=!0,Object(n.g)().then(function(e){if(e.data){var i=e.data;t.list=i.map(function(e){return t.$set(e,"edit",!1),e.originalTitle=e.cityName,e})}else t.list=[];t.listLoading=!1}).catch(function(){t.listLoading=!1})},submitCitys:function(){var t=this;this.cityForm.name?this.cityForm.name.length>=15?this.$message({type:"warning",message:"地址字数超过最大长度"}):(this.loading=!0,Object(n.a)(this.cityForm.name).then(function(){t.loading=!1,t.$message({message:"热门地址添加成功",type:"success"}),t.isShowDialog=!1,t.getHotCityList()}).catch(function(){t.loading=!1})):this.$message({type:"warning",message:"地址不能为空"})},updateAddress:function(t){var e=this;t.cityName?t.cityName.length>=15?this.$message({type:"warning",message:"地址字数超过最大长度"}):(this.loading=!0,t.originalTitle=t.cityName,this.cityForm.id=t.cityId,this.cityForm.name=t.cityName,Object(n.k)(this.cityForm).then(function(){e.loading=!1,e.$message({message:"修改地址成功",type:"success"}),t.edit=!1,e.cityForm={name:""}}).catch(function(){e.loading=!1})):this.$message({type:"warning",message:"地址不能为空"})},deleteAddress:function(t){var e=this;Object(n.c)(t.cityId).then(function(){e.$message({message:"删除地址成功",type:"success"}),e.getHotCityList()})},moveAddress:function(t,e){var i=this;if("up"===e){if(1===t.id)return;Object(n.i)(t.cityId).then(function(){i.getHotCityList()})}else if("down"===e){if(t.id===this.list.length)return;Object(n.e)(t.cityId).then(function(){i.getHotCityList()})}},isClose:function(){this.cityForm={name:""}}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-row",{attrs:{type:"flex",justify:"space-between"}},[i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{"line-height":"32px"}},[t._v("热门地址管理")])]),t._v(" "),i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{"text-align":"right"}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){t.isShowDialog=!0}}},[t._v("添加热门地址")])],1)])],1)],1),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"序号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.$index+1)+"\n      ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"地址",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.edit?[i("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:e.row.cityName,callback:function(i){t.$set(e.row,"cityName","string"==typeof i?i.trim():i)},expression:"scope.row.cityName"}}),t._v(" "),i("el-button",{staticClass:"cancel-btn",attrs:{size:"small",type:"warning"},on:{click:function(i){t.cancelEdit(e.row)}}},[t._v("取消")])]:i("span",[t._v(t._s(e.row.cityName))])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticStyle:{"text-align":"left"}},[e.row.edit?i("el-button",{attrs:{loading:t.loading,size:"mini",type:"danger",plain:""},on:{click:function(i){t.updateAddress(e.row)}}},[t._v("保存")]):i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){e.row.edit=!e.row.edit}}},[t._v("修改")]),t._v(" "),i("el-button",{attrs:{disabled:1==e.row.id,size:"mini",type:"success",plain:""},on:{click:function(i){t.moveAddress(e.row,"up")}}},[t._v("上移")]),t._v(" "),i("el-button",{attrs:{disabled:e.row.id==t.list.length,size:"mini",type:"success",plain:""},on:{click:function(i){t.moveAddress(e.row,"down")}}},[t._v("下移")]),t._v(" "),i("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(i){t.deleteAddress(e.row)}}},[t._v("删除")])],1)]}}])})],1),t._v(" "),i("el-dialog",{attrs:{title:"增加热门地址",visible:t.isShowDialog,"show-close":!1,width:"400px",center:""},on:{close:t.isClose,"update:visible":function(e){t.isShowDialog=e}}},[i("el-form",{attrs:{model:t.cityForm,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"城市名"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入城市名"},model:{value:t.cityForm.name,callback:function(e){t.$set(t.cityForm,"name","string"==typeof e?e.trim():e)},expression:"cityForm.name"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.isShowDialog=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},nativeOn:{click:function(e){e.preventDefault(),t.submitCitys(e)}}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]};var s=i("VU/8")(a,o,!1,function(t){i("BP/o")},"data-v-466d9a6f",null);e.default=s.exports}});