webpackJsonp([15],{"0hmn":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},ZrhX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("CCUp"),a={name:"companyType",data:function(){return{list:null,listLoading:!0,loading:!1,isShowDialog:!1,typeForm:{name:"",id:""}}},created:function(){this.getCompanyType()},methods:{cancelEdit:function(t){t.name=t.originalTitle,t.edit=!1,this.typeForm={name:""}},getCompanyType:function(){var t=this;this.listLoading=!0,Object(i.f)().then(function(e){if(e.data){var n=e.data;t.list=n.map(function(e){return t.$set(e,"edit",!1),e.originalTitle=e.name,e})}else t.list=[];t.listLoading=!1}).catch(function(){t.listLoading=!1})},submitType:function(){var t=this;this.typeForm.name?this.typeForm.name.length>=15?this.$message({type:"warning",message:"名称字数超过最大长度"}):(this.loading=!0,Object(i.b)(this.typeForm.name).then(function(){t.loading=!1,t.$message({message:"企业分类添加成功",type:"success"}),t.isShowDialog=!1,t.getCompanyType()}).catch(function(){t.loading=!1})):this.$message({type:"warning",message:"名称不能为空"})},updateCompanyType:function(t){var e=this;t.name?t.name.length>=15?this.$message({type:"warning",message:"名称字数超过最大长度"}):(this.loading=!0,t.originalTitle=t.name,this.typeForm.id=t.id,this.typeForm.name=t.name,Object(i.h)(this.typeForm).then(function(){e.loading=!1,e.$message({message:"修改企业分类成功",type:"success"}),t.edit=!1,e.typeForm={name:""}}).catch(function(){e.loading=!1})):this.$message({type:"warning",message:"名称不能为空"})},deleteCompanyType:function(t){var e=this;this.$confirm("是否确定删除类型:"+t.name,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i.c)(t.id).then(function(t){e.getCompanyType(),e.$message({type:"success",message:"删除成功!"})})}).catch(function(){})},isClose:function(){this.typeForm={name:""}}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-row",{attrs:{type:"flex",justify:"space-between"}},[n("el-col",{attrs:{span:12}},[n("div",{staticStyle:{"line-height":"32px"}},[t._v("企业类型管理")])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){t.isShowDialog=!0}}},[t._v("添加企业类型")])],1)])],1)],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"序号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.$index+1)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"分类名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.edit?[n("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:e.row.name,callback:function(n){t.$set(e.row,"name","string"==typeof n?n.trim():n)},expression:"scope.row.name"}}),t._v(" "),n("el-button",{staticClass:"cancel-btn",attrs:{size:"small",type:"warning"},on:{click:function(n){t.cancelEdit(e.row)}}},[t._v("取消")])]:n("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticStyle:{"text-align":"left"}},[e.row.edit?n("el-button",{attrs:{loading:t.loading,size:"mini",type:"danger",plain:""},on:{click:function(n){t.updateCompanyType(e.row)}}},[t._v("保存")]):n("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){e.row.edit=!e.row.edit}}},[t._v("修改")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(n){t.deleteCompanyType(e.row)}}},[t._v("删除")])],1)]}}])})],1),t._v(" "),n("el-dialog",{attrs:{title:"新增分类",visible:t.isShowDialog,"show-close":!1,width:"400px"},on:{close:t.isClose,"update:visible":function(e){t.isShowDialog=e}}},[n("el-form",{attrs:{model:t.typeForm,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"分类名称"}},[n("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入分类名称"},model:{value:t.typeForm.name,callback:function(e){t.$set(t.typeForm,"name","string"==typeof e?e.trim():e)},expression:"typeForm.name"}})],1),t._v(" "),n("el-form-item",[n("el-button",{on:{click:function(e){t.isShowDialog=!1}}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{type:"primary",loading:t.loading},nativeOn:{click:function(e){e.preventDefault(),t.submitType(e)}}},[t._v("确定")])],1)],1)],1)],1)},staticRenderFns:[]};var s=n("VU/8")(a,o,!1,function(t){n("yiNh")},"data-v-6420a24b",null);e.default=s.exports},yiNh:function(t,e,n){var i=n("0hmn");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("14397a71",i,!0)}});